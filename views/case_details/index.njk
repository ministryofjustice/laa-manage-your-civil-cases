{% extends "base.njk" %}
{% from "govuk/components/back-link/macro.njk" import govukBackLink %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "components/tabComponent.njk" import tabComponent %}
{% from "components/caseDetailsHeaderComponent.njk" import caseDetailsHeaderComponent %}

{% block backLink %}
  {{ govukBackLink({
    text: t('common.backToAllCases'),
    href: "/cases/" + client.caseStatus,
    classes: "govuk-!-margin-bottom-2"
  }) }}
{% endblock %}

{% block pageContent %}
  {{ caseDetailsHeaderComponent(client) }}
  {{ tabComponent({
    activeTab: activeTab,
    containerId: "cases-tab-container",
    data: client,
    history: history,
    pagination: pagination,
    timelineItems: timelineItems,
    tabs: [
      {
        id: "client_details",
        text: t('pages.caseDetails.tabs.clientDetails'),
        href: "/cases/" + caseReference + "/client-details",
        partial: "case_details/_client-details-partial.njk"
      },
      {
        id: "case_details",
        text: t('pages.caseDetails.tabs.caseDetails'),
        href: "/cases/" + caseReference + "/case-details"
      },
      {
        id: "financial_eligibility",
        text: t('pages.caseDetails.tabs.financialEligibility'),
        href: "/cases/" + caseReference + "/financial-eligibility"
      },
      {
        id: "history",
        text: t('pages.caseDetails.tabs.history'),
        href:"/cases/" + caseReference + "/history",
        partial: "case_details/_history-partial.njk"
      }
    ]
  }) }}
{% endblock %}