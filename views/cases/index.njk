{% extends "base.njk" %}

{% block pageTitle %}
  {{ t('pages.yourCases.pageTitles.' + pageTitleKey, { serviceName: config.SERVICE_NAME }) }}
{% endblock %}

{% block pageContent %}
  {#
    Cases page with server-side tab navigation
    Using the reusable tabComponent macro for clean, maintainable tab implementation
  #}

  {# Import the tabComponent macro #}
  {%- from "components/tabComponent.njk" import tabComponent -%}

  {# Main page heading - always shows "Your cases" #}
  <h1 class="govuk-heading-xl" id="page-heading">
    {{ t('pages.yourCases.heading') }}
  </h1>

  {% set casesPartial = "cases/_cases-partial.njk" %}

  {# Use the reusable tabComponent for navigation and content #}
  {{ tabComponent({
    activeTab: activeTab,
    containerId: "cases-tab-container",
    data: data,
    sortOrder: sortOrder,
    pagination: pagination,
    caseType: caseType,
    tabs: [
      {
        id: "new",
        text: t('common.status.new'),
        href: "/cases/new",
        partial: casesPartial
      },
      {
        id: "opened",
        text: t('common.status.pending'),
        href: "/cases/pending",
        partial: casesPartial
      },
      {
        id: "accepted",
        text: t('common.status.advising'),
        href: "/cases/advising",
        partial: casesPartial
      },
      {
        id: "rejected",
        text: t('common.status.closed'),
        href: "/cases/closed",
        partial: casesPartial
      },
      {
        id: "completed",
        text: t('common.status.completed'),
        href: "/cases/completed",
        partial: casesPartial
      }
    ]
  }) }}
{% endblock %}